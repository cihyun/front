<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test3_sample.html</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src=""></script>
    <script>
        'use strict';

        // 1. 논리값을 JSON을 이용해서 String 포멧 형식으로 변환
        let json = JSON.stringify(true);
        console.log(json);
        console.log();

        // 2. 배열값을 JSON을 이용한 String 포멧 변환
        json = JSON.stringify(['apple','banana','mango']);
        console.log(json);

        // 자바스크립트에서 객체 생성
        const Member = {
            name : '홍길동',
            age : 25,
            color : 'white',
            birthday : new Date(),
            size : null,
            gender : true,
            atom : () => {
                console.log("성명 : ", Member.name);
            }
        }
        console.log("name : " + Member.name);
        console.log("birthday : " + Member.birthday);
        console.log("생일 일자 : " + Member.birthday.getDate()+"일");
        console.log("atom 함수 호출"+Member.atom());
        console.log();

        // 3-1. Object를 json포멧 형식 변환
        json = JSON.stringify(Member);
        console.log(json);
        console.log();
        
        // 3-2. 앞에 정의된 Object의 필요한 속성(key)만을 목록으로 만들어서 받을 수 있다.
        json = JSON.stringify(Member,['name','age','gender']);
        console.log(json);
        console.log();
        
        // 3-3. 앞에 정의된 Object의 필요한 속성(key)만을 가져올 때, 키값을 모르면 ? (콜백 함수)
        json = JSON.stringify(Member,(key, value) => {
            console.log(`key: ${key}, value: ${value}`);
            return key,value;
        });
        console.log(json);
        console.log();

        // 4. JSON형식의 자료를 Object형식으로 변환
        let obj = JSON.parse(json);
        console.log(obj);
        console.log();

        console.log(obj.name);
        console.log(obj.age);
        console.log(obj.color);
        console.log(obj.birthday);
        // console.log(obj.birthday.getDate());
        console.log();
        console.log();

        const obj2 = JSON.parse(json,(key,value) => {
            return key=='birthday'? new Date(value) : value;
        });
        console.log(obj2);
        console.log(obj2.birthday.getDate()+"일");

    </script>
</head>
<body>
    <div class="container">
        <h2 class="mt-4">웹 을 통한 값의 전달방식</h2>
        <div>웹에서의 서버와의 통신방식은 HTTP를 사용한다.</div>
        <ul class="mt-4">
            <li>HTTP: Hyper Text Transfer Protocol, Server와 Client 사이의 값들을 전송해주는 통신을 정의한 프로토콜</li>
            <li>클라이언트가 서버에 요청(request)할 수 있고, 서버는 클라이언트에게 응답(response)한다.</li>
            
            <li>서버와 클라이언트의 자료 전달 방식 : XML, JSON
                <ul>
                    <li>AJAX : Asynchronous Javascript And XML - 비동기 통신</li>
                    <li>XML : HTML과 같은 마크업 언어로, 초창기에 주로 사용했던 서버와 데이터를 주고 받는 기술이다.<br />
                        동기식된 자료를 전송하게 되는데, XML은 불필요한 태그가 많이 전송되기에 가독성이 떨어지게 된다.<br />
                        따라서 요즘에는 주로 많이 사용하지 않고 있는 추세이다.
                    </li>
                    <li>JSON : JavaScript Object Notation으로 서버와의 필요한 데이터를 전송하는 포멧이다.<br />
                        JSON 방식은 모바일에서의 서버와 데이터 전송방식에서 주로 사용되어 왔다.<br />
                        프로그램의 종류나 플랫폼에 상관없이 사용할 수 있게 되었다.
                    </li>
                </ul>
            </li>
            
        </ul>
    </div>
</body>
</html>